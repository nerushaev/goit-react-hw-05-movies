{"version":3,"file":"static/js/484.6c8d2573.chunk.js","mappings":"iRAOe,SAASA,IAAS,IAAD,EAC9B,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOO,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,eAApB,QAA+B,IAOhDC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,2FACjBX,GAAW,GADM,mBAGIY,EAAAA,EAAAA,IAAgBJ,GAHpB,OAGTK,EAHS,OAIfX,EAAUW,EAAKC,SAJA,gDAMfhB,EAAS,EAAD,IANO,yBAQfE,GAAW,GARI,4EAAH,qDAWZQ,GACFG,GAGH,GAAE,IAEH,IAOMI,EAAY,mCAAG,WAAOC,GAAP,8EACnBA,EAAEC,iBACFjB,GAAW,GAFQ,mBAIEY,EAAAA,EAAAA,IAAgBT,GAJlB,OAIXU,EAJW,OAKjBX,EAAUW,EAAKC,SALE,gDAOjBhB,EAAS,EAAD,IAPS,yBASjBE,GAAW,GATM,4EAAH,sDAalB,OACE,kBAAMkB,UAAU,UAAhB,WACE,0BACE,kBAAMC,SAAUJ,EAAhB,WACF,kBAAOK,SAtBU,SAACJ,GAzBM,IAACK,EA0B3BjB,EAAUY,EAAEM,OAAOC,OA1BQF,EA2BTL,EAAEM,OAAOC,MAzB3BhB,EAD4B,KAATc,EAAc,CAAEA,KAAAA,GAAS,CAAC,EA2B9C,EAmBkCG,KAAK,OAAOH,KAAK,SAASE,MAAOf,KAChE,mBAAQU,UAAU,aAAaM,KAAK,SAApC,0BAGA,gBAAIN,UAAU,cAAd,UACGnB,IAAW,SAAC0B,EAAA,EAAD,IACXxB,IAAU,SAACyB,EAAA,EAAD,CAAYb,KAAMZ,IAC5BJ,IAAS,yDA/BD,OAoChB,C","sources":["pages/Movie/Movie.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { fetchQueryMovie } from 'api/api';\nimport MoviesItem from 'components/MoviesItem/MoviesItem';\nimport { useSearchParams } from 'react-router-dom';\nimport './Movie.css'\nimport Loader from 'components/Loader/Loader';\n\nexport default function Movie() {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const productName = searchParams.get(\"name\") ?? \"\";\n\n    const updateQueryString = (name) => {\n    const nextParams = name !== \"\" ? { name } : {};\n    setSearchParams(nextParams);\n    };\n  \n  useEffect(() => {\n    const fetchMovie = async () => {\n      setLoading(true)\n      try {\n        const data = await fetchQueryMovie(productName);\n        setMovies(data.results)\n      } catch (e) {\n        setError(e)\n      } finally {\n        setLoading(false)\n      }\n    }\n    if (productName) {\n      fetchMovie();\n    }\n// eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let notFound = false;\n\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n    updateQueryString(e.target.value)\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true)\n    try {\n      const data = await fetchQueryMovie(search);\n      setMovies(data.results)\n    } catch (e) {\n      setError(e)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <main className=\"wrapper\">\n      <div>\n        <form onSubmit={handleSubmit}>\n      <input onChange={handleChange} type=\"text\" name=\"search\" value={productName}/>\n      <button className=\"search-btn\" type=\"submit\">Search</button>\n        </form>\n      </div>\n      <ul className=\"movies-list\">\n        {loading && <Loader />}\n        {movies && <MoviesItem data={movies} />}\n        {error && <p>An unexpected error occurred</p>}\n        {notFound && <p>Sorry, movie not found</p>}\n      </ul>\n    </main>\n  )\n}\n"],"names":["Movie","useState","error","setError","loading","setLoading","movies","setMovies","search","setSearch","useSearchParams","searchParams","setSearchParams","productName","get","useEffect","fetchMovie","fetchQueryMovie","data","results","handleSubmit","e","preventDefault","className","onSubmit","onChange","name","target","value","type","Loader","MoviesItem"],"sourceRoot":""}